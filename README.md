# Project Overview

This README was generated by ChatGPT.

This project is a Raspberry Pi-based application that takes photos using a connected camera, generates captions for those photos using OpenAI's API, and displays them dynamically on an attached screen. The main components involve taking photos, creating captions, rendering them on the screen, and managing the entire process through a set of scripts for seamless deployment and maintenance.

## Features

1. **Photo Capture**: Utilizes the PiCamera to take pictures, adjusting settings like resolution and flip orientation for optimized image capture.
2. **Caption Generation**: Generates captions using OpenAI's language model to add context to each captured photo.
3. **Display Rendering**: Uses Pygame to display captions on an attached screen, with a dynamic checkerboard overlay to prevent burn-in.
4. **Deployment Automation**: Provides deployment scripts to handle syncing files, managing Python processes, and installing dependencies.
5. **Remote Management**: Enables remote deployment and control using SSH and rsync, supporting a smooth workflow for maintaining and updating the application.

## Folder Structure

- **camera.py**: Captures photos with the Raspberry Pi camera module.
- **caption.py**: Interacts with OpenAI's API to generate captions based on the captured images.
- **render.py**: Displays the caption on the screen, with animations to prevent screen burn-in.
- **spot.py**: Main script that orchestrates the photo capturing, caption generation, and rendering processes.
- **deploy.sh**: Handles deployment and setup on the Raspberry Pi, including syncing files and installing dependencies.
- **transfer.sh**: Synchronizes files between the local machine and the Raspberry Pi.
- **utils.py**: Contains utility functions for encoding images to base64 and handling retries for API requests.
- **requirements.txt**: Lists all required Python packages for running the project.
- **.env.demo**: Template for environment variables needed by the project.

## Setup Instructions

1. **Environment Setup**:
   - Install Python 3 and necessary system dependencies (`build-essential`, `python3-pip`, etc.) on your Raspberry Pi.
   - Create a `.env` file by copying `.env.demo` and updating it with your configuration (e.g., OpenAI API key, Raspberry Pi SSH credentials).

2. **Dependencies**:
   - Run `pip install -r requirements.txt` to install Python dependencies in a virtual environment.

3. **Deployment**:
   - Use `deploy.sh` to automate the deployment of code and dependencies to the Raspberry Pi. This script also handles starting and stopping the main Python script (`spot.py`).

4. **Running the Application**:
   - The main functionality can be launched through `spot.py`. This script takes care of the whole process: capturing a photo, generating a caption, and rendering it on the screen.

## Usage

- **Take a Photo**: The `camera.py` script initializes the camera and takes a photo, saving it locally on the Pi.
- **Generate a Caption**: Captions are generated using OpenAI's API, which requires an active API key defined in the `.env` file.
- **Render Output**: The rendered caption, along with a checkerboard pattern, is displayed on a screen connected to the Pi to prevent burn-in.

## Development Notes

- **Debugging**: A debug mode is available in `spot.py`, allowing developers to test the rendering process without making actual API calls.
- **Retries and Fault Handling**: API calls are wrapped in a retry function (`utils.py`) to handle rate limits or temporary network issues, using exponential backoff.
- **Remote Control**: Deployment scripts utilize SSH to stop running processes, sync changes, and restart the application, providing a streamlined update mechanism.

## Future Enhancements

- **Multi-language Support**: Implement the ability to generate captions in multiple languages.
- **Web Interface**: Create a web interface for managing photos, captions, and settings.
- **AI Model Customization**: Explore options to fine-tune the caption model for more personalized outputs.

## License

This project is licensed under the Creative Commons Attribution-NonCommercial (CC BY-NC 4.0) License. If you use or distribute this project, you must credit me, Julien Bont√©, and it cannot be used for commercial purposes without permission. For more details, see: https://creativecommons.org/licenses/by-nc/4.0/

## Acknowledgments

- **Repomix**: Used to generate the packed representation of the repository.
- **OpenAI**: Providing the API for caption generation.
- **Pygame**: For rendering captions on the display with anti-burn-in animations.

